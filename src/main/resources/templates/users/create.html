<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- font -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Numans&display=swap" rel="stylesheet">
    <!-- Bootstrap CSS -->
    <link th:rel="stylesheet" th:href="@{/webjars/bootstrap/5.1.3/css/bootstrap.min.css}" />
    <!-- app.css -->
    <link rel="stylesheet" th:href="@{/app.css}">
    <title>Tickets</title>
</head>

<body>
    <!-- navbar -->
    <nav th:replace="navbar :: navbar('Utenti')"></nav>

    <div class="container bg-white shadow-lg my-5 py-5 px-5 rounded-3">
        <div class="content">
            <!-- titolo creazione -->
            <h2 class="text-center mb-5 numans-regular">Crea un nuovo Utente</h2>
            <hr />

            <form class="row g-3" method="post" th:action="@{/users/create}"
                th:object="${user}">
                <div class="row">
                    <!-- nome -->
                    <div class="mt-4 my-3 col-12 col-lg-8">
                        <label for="nome" class="form-label">Nome <span class="text-danger fw-light">*</span></label>
                        <input type="text" class="form-control shadow" id="nome" th:field="*{nome}" th:errorClass="is-invalid">
                        <div th:if="${#fields.hasErrors('nome')}" class="invalid-feedback">
                            <ul>
                                <li th:each="err : ${#fields.errors('nome')}" th:text="${err}"></li>
                            </ul>
                        </div>
                    </div>
                    <!-- cognome -->
                    <div class="mb-3 mb-3 col-12 col-lg-8">
                        <label for="cognome" class="form-label">Cognome <span class="text-danger fw-light">*</span></label>
                        <input type="text" class="form-control shadow" id="cognome" th:field="*{cognome}"
                            th:errorClass="is-invalid">
                        <div th:if="${#fields.hasErrors('cognome')}" class="invalid-feedback">
                            <ul>
                                <li th:each="err : ${#fields.errors('cognome')}" th:text="${err}"></li>
                            </ul>
                        </div>
                    </div>
                    <!-- username -->
                    <div class="mb-3 mb-3 col-12 col-lg-8">
                        <label for="username" class="form-label">Username <span class="text-danger fw-light">*</span></label>
                        <input type="text" class="form-control shadow" id="username" th:field="*{username}"
                            th:errorClass="is-invalid">
                        <div th:if="${#fields.hasErrors('username')}" class="invalid-feedback">
                            <ul>
                                <li th:each="err : ${#fields.errors('username')}" th:text="${err}"></li>
                            </ul>
                        </div>
                    </div>
                    <!-- password -->
                    <div class="mb-3 col-12 col-lg-8">
                        <label for="password" class="form-label">Password <span class="text-danger fw-light">*</span></label>
                        <input type="password" class="form-control shadow" id="password" th:field="*{password}" th:errorClass="is-invalid">
                        <div th:if="${#fields.hasErrors('password')}" class="invalid-feedback">
                            <ul>
                                <li th:each="err : ${#fields.errors('password')}" th:text="${err}"></li>
                            </ul>
                        </div>
                    </div>
                    <!-- ruoli -->
                    <div class="mb-5 col-12 col-lg-5">
                        <label for="ruolo" class="form-label">Assegna ruolo <span class="text-danger fw-light">*</span></label>
                        <select th:field="*{ruoli}" class="form-select form-select shadow" th:errorClass="is-invalid">
                            <option value="" disabled selected>Assegna ruolo</option>
                            <option th:each="ruolo : ${ruoli}" th:value="${ruolo.id}" th:field="*{ruoli}"
                                th:text="${ruolo.nome}"></option>
                        </select>
                        <div th:if="${#fields.hasErrors('password')}" class="invalid-feedback">
                            <ul>
                                <li th:each="err : ${#fields.errors('password')}" th:text="${err}"></li>
                            </ul>
                        </div>
                    </div>
                    <div class="row">
                        <div class="d-flex flex-wrap">
                            <!-- button crea -->
                            <button type="submit" class="col-12 col-lg-3 btn btn-outline-success shadow d-inline-flex align-items-center me-2 mb-2 justify-content-center">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-plus-lg"
                                    viewBox="0 0 16 16">
                                    <path fill-rule="evenodd"
                                        d="M8 2a.5.5 0 0 1 .5.5v5h5a.5.5 0 0 1 0 1h-5v5a.5.5 0 0 1-1 0v-5h-5a.5.5 0 0 1 0-1h5v-5A.5.5 0 0 1 8 2" />
                                </svg>
                                <span class="ms-2">Crea Utente</span>
                            </button>
                            <!-- button ripulisci form -->
                            <button type="reset" class="col-12 col-lg-3 btn btn-outline-danger shadow d-inline-flex align-items-center mb-2 justify-content-center">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-stars"
                                    viewBox="0 0 16 16">
                                    <path
                                        d="M7.657 6.247c.11-.33.576-.33.686 0l.645 1.937a2.89 2.89 0 0 0 1.829 1.828l1.936.645c.33.11.33.576 0 .686l-1.937.645a2.89 2.89 0 0 0-1.828 1.829l-.645 1.936a.361.361 0 0 1-.686 0l-.645-1.937a2.89 2.89 0 0 0-1.828-1.828l-1.937-.645a.361.361 0 0 1 0-.686l1.937-.645a2.89 2.89 0 0 0 1.828-1.828zM3.794 1.148a.217.217 0 0 1 .412 0l.387 1.162c.173.518.579.924 1.097 1.097l1.162.387a.217.217 0 0 1 0 .412l-1.162.387A1.73 1.73 0 0 0 4.593 5.69l-.387 1.162a.217.217 0 0 1-.412 0L3.407 5.69A1.73 1.73 0 0 0 2.31 4.593l-1.162-.387a.217.217 0 0 1 0-.412l1.162-.387A1.73 1.73 0 0 0 3.407 2.31zM10.863.099a.145.145 0 0 1 .274 0l.258.774c.115.346.386.617.732.732l.774.258a.145.145 0 0 1 0 .274l-.774.258a1.16 1.16 0 0 0-.732.732l-.258.774a.145.145 0 0 1-.274 0l-.258-.774a1.16 1.16 0 0 0-.732-.732L9.1 2.137a.145.145 0 0 1 0-.274l.774-.258c.346-.115.617-.386.732-.732z" />
                                </svg>
                                <span class="ms-2">Ripulisci form</span>
                            </button>
                        </div>
                    </div>
                </div>
            </form>
            <hr class="mt-4 mb-5">
            <a th:href="@{/users}" class="text-decoration-none">‚Üê Torna alla lista degli Utenti</a>
        </div>
    </div>
    <!-- footer -->
    <footer class="shadow-lg">
        <div class="container">
            <div class="d-flex row justify-content-between align-items-center py-4 gap-2">
                <div class="col-12 col-lg-3 fs-14 text-center text-lg-start">
                    <div>Mail: servizio_clienti@giullstravells.it</div>
                </div>
                <div class="col-12 col-lg-3 text-lg-center text-center">
                    <a class="navbar-brand" th:href="@{/giullstravells/tickets}">
                        <img class="logo-width" th:src="@{/img/logo.png}" alt="logo">
                    </a>
                </div>
                <div class="col-12 col-lg-3 text-lg-end fs-14 text-center">
                    <div>Phone: +39 02 75 40 7660</div>
                </div>
            </div>
        </div>
    </footer>

    <!-- Bootstrap JS Bundle -->
    <script th:src="@{/webjars/bootstrap/5.1.3/js/bootstrap.bundle.min.js}"></script>
    <!-- app.js -->
    <script th:src="@{/app.js}"></script>
</body>

</html>